韦伯定律   光强 指数增加，人眼感知是倍数
电子设备  动态范围低  昏暗室内 拍摄 阳光的室外，难以做到 室内室外 都很清晰

HDR渲染	
1.  高精度浮点纹理  渲染 高动态图形   
2.  统计图像亮度，选取 合适的曝光参数  模拟人眼的自适应过程
3.  用Tonemapping 将线性的高动态亮度 映射到 非线性的较低 动态亮度曲线上，贴近人眼的感知特性

高动态范围映射到低动态设备上，人眼感到自然：相对正常的明暗对比，从昏暗到高亮 有正常的比例的像素分布，没有大量像素过暗/过亮被截断

HDR 文件	每个通道 8 bit, alpha 存放指数
HDR 照片   云层，海面采用不同的曝光参数，然后混合到一张照片上
	不同曝光参数 多次拍摄，混合拍摄结果，可以接近/超越 人眼的动态范围
HDR 设备   硬件参数   输出的最大亮度，对比度和色域
Gamma曲线   与低亮度感知曲线相近，   HDR设备  PQ（perceptual quantizer）  HLG （Hybrid log–gamma 混合对数型gamma,BBC和 NHK）

HDR渲染核心  曝光值计算（动态范围内的平均亮度/中灰值），色调变换（高动态范围 映射到 低动态设备上）
                      渲染缓存 8 bit, 最大对比是 8 EV, 真实照片 13 EV
HDR浮点纹理  16bit/32bit   保存高动态的光照信息
HDR算法         将高动态的光照结果 映射到 屏幕上，用其有限的动态范围 表现画面对比

曝光算法	      线性缩放到显示设备的动态范围内,不影响像素间的对比度
1. 像素点 光强的Log值，并乘以权重，（我的解释： 亮部到暗部的像素分布更接近于指数，而且Log之后 更不容易超越浮点表达的范围）
2. 累加这些值，除以所有权重之和
3. 计算Exp 值，得到平均像素亮度
4. 原始像素 乘以  （给定的Middle gray / 平均亮度）

全局	经典HDR曝光算法是全局算法，计算过程中权重值是都是1
局部	提供更接近感官经验的曝光选择

Tone Mapping  模拟人眼的非线性感受
ACES 对比更高， Reinhard 对比下降， Neural 与原始图像更接近
（白平衡、色温）

高动态光源 ，真实场景采集，测光仪
材质标准 PBR，不要手绘 阴影明暗细节
复杂场景统一材质/参数   方便多灯光照明，

快门时间  光圈  ISO参数
摄像师 使用灰卡进行测光，确认中灰值 （middle gray，最亮与最暗像素的中间光亮度， 18% 代表中灰）
0.18 经过gamma(2.2)校正 为 0.46
正午阳光下 高对比渲染效果图，平均亮度4096nit, 动态范围大概 12EV
8bit颜色  最低亮度单位 1/256, 8EV 动态范围是1.0, 如果12Ev 需要 16 bit
卡通风格化渲染  不一定需要 HDR 

Unity 2019 HDRP 引入物理灯光 

知乎
https://zhuanlan.zhihu.com/p/433133944#ref_12

局部曝光算法
https://placeholderart.wordpress.com/2014/12/15/implementing-a-physically-based-camera-automatic-exposure/

Hybrid log–gamma 混合对数型gamma
http://shumaduo.com/doc/10100007832.htm
